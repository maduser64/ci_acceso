{"version":3,"sources":["../assets/scripts/globals.js","../assets/scripts/config.js"],"names":["protocol","window","location","host","path","pathname","base","app_name","substr","lastIndexOf","app_url","base_url","$","document","ready","showErrorMessage","selector","msg","time","html","show","delay","fadeOut","showSuccessMessage","createDoorsEventsResultBody","result","event_datetime","event_datetime_formated","fname","lname","user","body","tam","length","event_type","i","moment","x_timestamp","format","x_fname","x_lname","x_hist_type","x_term_name","createDataTable","selectorExist","table","DataTable","order","language","url","destroyDataTable","table_var","destroy","reinitialiseDataTable","dropdown","lastDoorMov","calendar","formatter","date","settings","day","getDate","month","getMonth","year","getFullYear","type","ampm","monthFirst"],"mappings":"AAAA,GAAAA,UAAAC,OAAAC,SAAAF,SACAG,KAAAF,OAAAC,SAAAC,KACAC,KAAAH,OAAAC,SAAAG,SACAC,KAAAN,SAAA,KAAAG,KACAI,SAAAN,OAAAC,SAAAG,SAAAG,OAAA,EAAAP,OAAAC,SAAAG,SAAAI,YAAA,MACAC,QAAAJ,KAAAC,SAAA,IACAI,SAAAX,SAAA,KAAAG,KAAAC,IAEAQ,GAAAC,UAAAC,MAAA,WACA,QAAAC,GAAAC,EAAAC,EAAAC,GACAN,EAAAI,GAAAG,KAAA,iGAAAF,EAAA,cACAL,EAAAI,GAAAI,KAAA,KAAAC,MAAAH,GAAAI,UAGA,QAAAC,GAAAP,EAAAC,EAAAC,GACAN,EAAAI,GAAAG,KAAA,gGAAAF,EAAA,cACAL,EAAAI,GAAAI,KAAA,KAAAC,MAAAH,GAAAI,UAIA,QAAAE,GAAAC,GASA,IAAA,GALAC,GACAC,EACAC,EACAC,EACAC,EAPAC,EAAA,GACAC,EAAAP,EAAAQ,OACAC,EAAA,GAMAC,EAAA,EAAAA,EAAAH,EAAAG,IACAT,EAAAU,OAAAX,EAAAU,GAAAE,aACAV,EAAAD,EAAAY,OAAA,uBAEAV,EADAH,EAAAU,GAAAI,QACAd,EAAAU,GAAAI,QAEA,IAGAV,EADAJ,EAAAU,GAAAK,QACAf,EAAAU,GAAAK,QAEA,IAEAV,EAAAF,EAAA,IAAAC,EAEAK,EADA,KAAAT,EAAAU,GAAAM,YACA,kDAEA,mDAEAV,GAAA,OACAA,GAAA,OAAAN,EAAAU,GAAAO,YAAA,QACAX,GAAA,OAAAD,EAAA,QACAC,GAAA,OAAAG,EAAA,QACAH,GAAA,OAAAJ,EAAA,QACAI,GAAA,OAEA,OAAAA,GAIA,QAAAY,GAAA3B,GACA,GAAA4B,EAAA5B,GAAA,CACA,GAAA6B,GAAA7B,EAAA8B,WACAC,QAAA,EAAA,SACAC,UACAC,IAAA,iCAGA,OAAAJ,GAEA,OAAA,EAIA,QAAAK,GAAAC,GACAA,EAAAC,UAEA,QAAAR,GAAA5B,GACA,MAAAA,GAAAiB,OAAA,EAIA,QAAAoB,GAAArC,EAAAmC,GAEA,MADAD,GAAAC,GACAR,EAAA3B,GAtEAf,OAAAc,iBAAAA,EAKAd,OAAAsB,mBAAAA,EAuCAtB,OAAAuB,4BAAAA,EAcAvB,OAAA0C,gBAAAA,EAQA1C,OAAAiD,iBAAAA,EAMAjD,OAAAoD,sBAAAA,ICrFAzC,EAAAC,UAAAC,MAAA,WACAF,EAAA,gBAAA0C,UAEA,IAAAC,GAAA3C,EAAA,eACA+B,iBAAAY,EAIA3C,GAAA,eAAA4C,UAGAC,WACAC,KAAA,SAAAA,EAAAC,GACA,IAAAD,EAAA,MAAA,EACA,IAAAE,GAAAF,EAAAG,UACAC,EAAAJ,EAAAK,WAAA,EACAC,EAAAN,EAAAO,aACA,OAAAL,GAAA,IAAAE,EAAA,IAAAE,IAGAE,KAAA,SAEAtD,EAAA,eAAA4C,UACAW,MAAA,EACAD,KAAA,SAEAtD,EAAA,aAAA4C,UACAY,YAAA,EACAX,WACAC,KAAA,SAAAA,EAAAC,GACA,IAAAD,EAAA,MAAA,EACA,IAAAE,GAAAF,EAAAG,UACAC,EAAAJ,EAAAK,WAAA,EACAC,EAAAN,EAAAO,aACA,OAAAL,GAAA,IAAAE,EAAA,IAAAE,IAGAE,KAAA,SAEAtD,EAAA,aAAA4C,UACAW,MAAA,EACAD,KAAA","file":"config.js","sourcesContent":["var protocol = window.location.protocol;\r\nvar host = window.location.host;\r\nvar path = window.location.pathname;\r\nvar base = protocol+\"//\"+host;\r\nvar app_name = window.location.pathname.substr(0,window.location.pathname.lastIndexOf('/'));\r\nvar app_url = base+app_name+'/';\r\nvar base_url = protocol+\"//\"+host+path;\r\n\r\n$(document).ready(function() {\r\n    function showErrorMessage(selector,msg,time){\r\n        $(selector).html(\"<div class=\\\"ui negative message\\\"><i class=\\\"close icon\\\"></i><div class=\\\"header\\\">Error!</div><p>\"+msg+\"</p></div>\");\r\n        $(selector).show(1000).delay(time).fadeOut();\r\n    }\r\n    window.showErrorMessage = showErrorMessage;\r\n    function showSuccessMessage(selector,msg,time){\r\n        $(selector).html(\"<div class=\\\"ui success message\\\"><i class=\\\"close icon\\\"></i><div class=\\\"header\\\">Ã‰xito!</div><p>\"+msg+\"</p></div>\");\r\n        $(selector).show(1000).delay(time).fadeOut();\r\n    }\r\n    window.showSuccessMessage = showSuccessMessage;\r\n\r\n    function createDoorsEventsResultBody(result){\r\n        var body = '';\r\n        var tam = result.length;\r\n        var event_type = '';\r\n        var event_datetime;\r\n        var event_datetime_formated;\r\n        var fname;\r\n        var lname;\r\n        var user;\r\n        for (var i = 0; i < tam; i++) {\r\n            event_datetime = moment(result[i].x_timestamp);\r\n            event_datetime_formated = event_datetime.format('DD-MM-YYYY HH:mm:ss');\r\n            if(result[i].x_fname){\r\n               fname = result[i].x_fname;\r\n            }else{\r\n                fname = ' ';\r\n            }\r\n            if(result[i].x_lname){\r\n                lname = result[i].x_lname;\r\n            }else{\r\n                lname = ' ';\r\n            }\r\n            user = fname+' '+lname;\r\n            if(result[i].x_hist_type === 35){\r\n                event_type = \"<div class='ui red label'>Acceso Denegado</div>\";\r\n            }else{\r\n                event_type = \"<div class='ui green label'>Puerta Abierta</div>\";\r\n            }\r\n            body += '<tr>';\r\n            body +=     '<td>'+result[i].x_term_name+'</td>';\r\n            body +=     '<td>'+user+'</td>';\r\n            body +=     '<td>'+event_type+'</td>';\r\n            body +=     '<td>'+event_datetime_formated+'</td>';\r\n            body += '</tr>';\r\n        }\r\n        return body;\r\n    }\r\n    window.createDoorsEventsResultBody = createDoorsEventsResultBody;\r\n\r\n    function createDataTable(selector){\r\n        if(selectorExist(selector)) {\r\n            var table = selector.DataTable({\r\n                \"order\": [[3, \"desc\"]],\r\n                \"language\": {\r\n                    \"url\": \"extras/SpanishDatatable.json\"\r\n                }\r\n            });\r\n            return table;\r\n        }\r\n        return false;\r\n    }\r\n    window.createDataTable = createDataTable;\r\n\r\n    function destroyDataTable(table_var){\r\n        table_var.destroy();\r\n    }\r\n    function selectorExist(selector){\r\n        return (selector.length>0);\r\n    }\r\n    window.destroyDataTable = destroyDataTable;\r\n\r\n    function reinitialiseDataTable(selector,table_var){\r\n        destroyDataTable(table_var);\r\n        return createDataTable(selector);\r\n    }\r\n    window.reinitialiseDataTable = reinitialiseDataTable;\r\n});","$(document).ready(function() {\r\n    $('.ui.dropdown').dropdown();\r\n    //Global DataTables\r\n    var lastDoorMov = $('#lastDoorMov');\r\n    var lastDoorMovTable = createDataTable(lastDoorMov);\r\n    // var now = moment();\r\n    // console.log('hoy es '+now);\r\n    // console.log('mejor es '+now.format('DD-MM-YYYY'));\r\n    $(\".start-date\").calendar({\r\n        // initialDate: now.format('DD-MM-YYYY'),\r\n        // monthFirst: false,\r\n        formatter: {\r\n            date: function (date, settings) {\r\n                if (!date) return '';\r\n                var day = date.getDate();\r\n                var month = date.getMonth() + 1;\r\n                var year = date.getFullYear();\r\n                return day + '-' + month + '-' + year;\r\n            }\r\n        },\r\n        type: 'date'\r\n    });\r\n    $(\".start-time\").calendar({\r\n        ampm: false,\r\n        type: 'time'\r\n    });\r\n    $(\".end-date\").calendar({\r\n        monthFirst: false,\r\n        formatter: {\r\n            date: function (date, settings) {\r\n                if (!date) return '';\r\n                var day = date.getDate();\r\n                var month = date.getMonth() + 1;\r\n                var year = date.getFullYear();\r\n                return day + '-' + month + '-' + year;\r\n            }\r\n        },\r\n        type: 'date'\r\n    });\r\n    $(\".end-time\").calendar({\r\n        ampm: false,\r\n        type: 'time'\r\n    });\r\n\r\n});"],"sourceRoot":"assets/scripts/"}